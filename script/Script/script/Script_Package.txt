#TouhouDanmakufu[Package]
#Title["Package"]
#Text[""]
#Player["./../../player/Gato/Player_Gato.txt", "./../../player/Sullen/Player_Sullen.txt", "./../../player/Viivi/Player_Viivi.txt"]
#include "./lib/lib_img.txt"
#include "./lib/lib_sound.txt"
#include "./Loading.txt"
#include "./Package_Functions.txt"
#include "./Package_MainMenu.txt"
#include "./Package_CharacterSelect.txt"
let skipIntro = false;
@Initialize
{
	//SetSkipModeKey(KEY_INVALID);
	//InstallFont(GetCurrentScriptDirectory~"COLUMBUS.ttf");
	InstallFont(GetCurrentScriptDirectory~"reve.ttf");
	InstallFont(GetCurrentScriptDirectory~"LFAXD.ttf");
	
	Loader();
}
@MainLoop
{
	if(GetKeyState(KEY_0)==KEY_PUSH)
	{
		ClosePackage();
	}
	yield;
}

@Finalize
{
}
//----------------------------------------------------
task Loader
{
	//LoadThings;
	//while(mainLoadBool==false){yield;}
	LoadingBool = true;
	skipIntro = false;
	TIntro;
	TTitleScene;
}
let carryOn = true;
let titleFocusX = 0;
let titleFocusY = 0;
let BASE_RENDER = 0.81;
let BASE_RENDERI = BASE_RENDER*100;

const MENUSTATE_UNACTIVE 				= 0;
const MENUSTATE_MAIN 					= 1;
const MENUSTATE_CHARACTER_SELECT 		= 2;

let menuState = MENUSTATE_UNACTIVE;

function TIntro()
{
	
}

task TTitleScene
{
	menuState = MENUSTATE_MAIN;
	Title_Display();
	//タイトルシーン終了フラグ
	while(true)
	{
		yield;
	}
	

	StartStageProgression();
	ClosePackage();
}